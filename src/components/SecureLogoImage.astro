---
const { src, alt, title, width, height, class: className } = Astro.props;
import logoEntreprise from '../assets/images/logo-entreprise.webp';

const imageSrc = src?.src || src;
const logoSrc = logoEntreprise.src;
---

<div 
  class={className} 
  title={title} 
  style={`position: relative; display: inline-block; line-height: 0; width: ${width ? width + 'px' : 'auto'}; -webkit-touch-callout: none; -webkit-user-select: none; user-select: none;`}
  oncontextmenu="return false;"
>
  
  <img 
    src={imageSrc} 
    alt={alt} 
    width={width} 
    height={height} 
    draggable="false"
    style="display: block; width: 100%; height: auto; pointer-events: none;" 
  />

  <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: grid; grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr); z-index: 5; pointer-events: none;">
    {Array(9).fill(0).map(() => (
      <div style="display: flex; align-items: center; justify-content: center;">
        <img 
          src={logoSrc} 
          style="width: 70px; height: auto; opacity: 0.3; transform: rotate(-20deg); border-radius: 15px; background: white;" 
        />
      </div>
    ))}
  </div>

  <div 
    draggable="false" 
    style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 10; background: rgba(0,0,0,0); -webkit-tap-highlight-color: transparent; touch-action: none;"
  ></div>
</div>